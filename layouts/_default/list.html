{{ define "title" }}
    {{ if eq .Data.Singular "tag" }}Tag → {{ .Data.Term }}
    {{ else if eq .Data.Singular "category" }}Category → {{ .Data.Term }}
    {{ else }}Posts{{ end }}
    {{ if isset .Site.Params "seotitle" }} | {{ .Site.Params.seotitle }}{{ else }} | {{ .Site.Title }}{{ end }}
{{ end }}

{{ define "main" }}
    {{ partial "header.html" . }}
    <section class="main post-list">
        <header class="list-header offscreen">
            <h2 class="list-label">Posts List</h2>
        </header>
        {{ if eq .Data.Singular "tag" }}
            <header class="page-header clearfix">Tag "{{ .Data.Term }}"</header>
        {{ else if eq .Data.Singular "category" }}
            <nav class="page-nav-header clearfix">
                <ul class="nav-list">
                    <li class="nav-item nav-actus {{ if eq .Data.Term `actus` }}active{{ end }}"><a href="/categories/actus/"><i class="fa fa-bullhorn"></i><span class="text">Actus</span></a></li>
                    <li class="nav-item nav-dossiers {{ if eq .Data.Term `dossiers` }}active{{ end }}"><a href="/categories/dossiers/"><i class="fa fa-book"></i><span class="text">Dossiers</span></a></li>
                    <li class="nav-item nav-guides {{ if eq .Data.Term `guides` }}active{{ end }}"><a href="/categories/guides/"><i class="fa fa-desktop"></i><span class="text">Guides</span></a></li>
                    <li class="nav-item nav-tutoriels {{ if eq .Data.Term `tutoriels` }}active{{ end }}"><a href="/categories/tutoriels/"><i class="fa fa-wrench"></i><span class="text">Tutoriels</span></a></li>
                    <li class="nav-item nav-console {{ if eq .Data.Term `console` }}active{{ end }}"><a href="/categories/console/"><i class="fa fa-code"></i><span class="text">Console</span></a></li>
                </ul>
            </nav>
        {{ else }}
            <header class="page-header clearfix">Posts</header>
        {{ end }}
        {{ $paginator := .Paginate (where .Data.Pages "Type" "post") (index .Site.Params "paginate" | default 10) }}
        {{ if ne $paginator.TotalPages 0 }}
            <div class="timeline">
                {{ range $paginator.Pages.ByDate.Reverse }}
                {{ .Render "summary" }}
                {{ end }}
            </div>
        {{ end }}
        {{ if gt $paginator.TotalPages 1 }}
            <footer class="list-footer">
                <nav class="pagination">
                    <h3 class="offscreen">Pagination</h3>
                    {{ if $paginator.HasPrev }}
                    <a class="pagination-previous" href="{{ $paginator.Prev.URL }}">← Newer Posts</a>
                    {{ end }}
                    {{ if $paginator.HasNext }}
                    <a class="pagination-next" href="{{ $paginator.Next.URL }}">Older Posts →</a>
                    {{ end }}
                </nav>
            </footer>
        {{ end }}
    </section>
    {{ partial "footer.html" . }}
{{ end }}
